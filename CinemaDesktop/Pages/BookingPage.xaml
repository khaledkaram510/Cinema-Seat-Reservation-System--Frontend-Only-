<Page x:Class="CinemaDesktop.Pages.BookingPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:ui="clr-namespace:CinemaDesktop.Ui"
      Background="#0B1220">

	<Page.Resources>
		<!-- Seat Toggle Style -->
		<Style TargetType="ToggleButton" x:Key="SeatToggleStyle">
			<Setter Property="Width" Value="44"/>
			<Setter Property="Height" Value="44"/>
			<Setter Property="Margin" Value="4"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="Background" Value="#2A3A6B"/>
			<Setter Property="BorderBrush" Value="#435AA8"/>
			<Setter Property="BorderThickness" Value="1"/>

			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="ToggleButton">
						<Border CornerRadius="10"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
							<ContentPresenter
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>

			<Style.Triggers>
				<!-- Selected seat -->
				<Trigger Property="IsChecked" Value="True">
					<Setter Property="Background" Value="#4CAF50"/>
					<Setter Property="BorderBrush" Value="#7CFF8A"/>
				</Trigger>
			</Style.Triggers>
		</Style>
	</Page.Resources>

	<Grid Margin="24">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Top Controls -->
		<Border Background="#0F1A33" CornerRadius="16" Padding="16" Grid.Row="0">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="260"/>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>

				<StackPanel>
					<TextBlock Text="Select Hall"
                               Foreground="#B7C2E0"
                               Margin="0,0,0,6"/>
					<ComboBox x:Name="HallCombo"
                              Height="38"
                              SelectionChanged="HallCombo_SelectionChanged"/>
				</StackPanel>

				<Button Grid.Column="1"
                        Content="Refresh"
                        Height="38"
                        Width="110"
                        Margin="16,20,0,0"
                        Click="Refresh_Click"/>

				<TextBlock Grid.Column="2"
                           x:Name="HallInfoText"
                           VerticalAlignment="Center"
                           Margin="18,22,0,0"
                           Foreground="#B7C2E0"/>
			</Grid>
		</Border>

		<!-- Seats Grid -->
		<Border Background="#0F1A33"
                CornerRadius="16"
                Padding="16"
                Grid.Row="1"
                Margin="0,18,0,18">
			<ScrollViewer VerticalScrollBarVisibility="Auto">
				<UniformGrid x:Name="SeatsGrid"/>
			</ScrollViewer>
		</Border>

		<!-- Bottom Actions -->
		<Border Background="#0F1A33"
                CornerRadius="16"
                Padding="16"
                Grid.Row="2">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>

				<Button Content="Book Selected Seats"
                        Height="42"
                        Width="200"
                        Click="Book_Click"/>

				<Button Grid.Column="1"
                        Content="Clear Selection"
                        Height="42"
                        Width="160"
                        Margin="12,0,0,0"
                        Click="Clear_Click"/>

				<TextBlock Grid.Column="2"
                           x:Name="StatusText"
                           VerticalAlignment="Center"
                           Margin="12,0,0,0"
                           Foreground="#9FE2B2"
                           TextWrapping="Wrap"
                           FontFamily="Consolas"/>
			</Grid>
		</Border>
	</Grid>
</Page>
